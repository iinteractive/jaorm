CREATE TABLE IF NOT EXISTS `user` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE, `username` VARCHAR UNIQUE NOT NULL, `password` VARCHAR NOT NULL, `date_created` DATETIME DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS `role` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE, `name` VARCHAR UNIQUE NOT NULL, `date_created` DATETIME DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS `user_prefs` (`user_id` INTEGER NOT NULL, `theme` VARCHAR NOT NULL, `font` VARCHAR NOT NULL, CONSTRAINT fk_user_prefs_user_id FOREIGN KEY (user_id) REFERENCES user(id));
CREATE TABLE IF NOT EXISTS `user_role` (`user_id` INTEGER NOT NULL, `role_id` INTEGER NOT NULL, `date_created` DATETIME DEFAULT CURRENT_TIMESTAMP, CONSTRAINT fk_user_role_user_id FOREIGN KEY (user_id) REFERENCES user(id), CONSTRAINT fk_user_role_role_id FOREIGN KEY (role_id) REFERENCES role(id));
CREATE TABLE IF NOT EXISTS `message` (`uuid` VARCHAR PRIMARY KEY NOT NULL, `sender_id` INTEGER NOT NULL, `recipient_id` INTEGER NOT NULL, `message` TEXT, `read` BOOLEAN DEFAULT FALSE, `date_created` DATETIME DEFAULT CURRENT_TIMESTAMP, CONSTRAINT fk_messager_sender_id FOREIGN KEY (sender_id) REFERENCES user(id), CONSTRAINT fk_messager_recipient_id FOREIGN KEY (recipient_id) REFERENCES user(id));
CREATE TABLE IF NOT EXISTS `meta` (`key` VARCHAR PRIMARY KEY NOT NULL UNIQUE, `value`  VARCHAR NOT NULL, `date_created` DATETIME DEFAULT CURRENT_TIMESTAMP);
CREATE TABLE IF NOT EXISTS `friend_list` (`user_id` INTEGER NOT NULL, `friend_id` INTEGER NOT NULL, "date_created" DATETIME DEFAULT CURRENT_TIMESTAMP, PRIMARY KEY (`user_id`, `friend_id`));
CREATE TABLE IF NOT EXISTS `news` (`id` INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL UNIQUE, `headline` VARCHAR NOT NULL, `tags` VARCHAR DEFAULT NULL, `story_text` TEXT, `date_created` DATETIME DEFAULT CURRENT_TIMESTAMP);
